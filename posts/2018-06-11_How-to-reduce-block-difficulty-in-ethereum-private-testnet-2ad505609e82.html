<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>How to reduce block difficulty in ethereum private testnet</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">How to reduce block difficulty in ethereum private testnet</h1>
</header>
<section data-field="subtitle" class="p-summary">
Block difficulty rate will increase by only 1 per block.
</section>
<section data-field="description" class="p-summary">
One of the greatest problems when it comes to development on ethereum private testnet is it&#39;s slow consensus. Thanks to POW.  This problem also increases with time as the block difficulty increases‚Ä¶
</section>
<section data-field="body" class="e-content">
<section name="4111" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="d291" id="d291" class="graf graf--h3 graf--leading graf--title">How to reduce block difficulty in ethereum private¬†testnet</h3></div><div class="section-inner sectionLayout--fullWidth"><figure name="2061" id="2061" class="graf graf--figure graf--layoutFillWidth graf-after--h3"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.3%;"></div><img class="graf-image" data-image-id="1*AqNklmVHdflXU4aDbIAzAQ.png" data-width="1600" data-height="900" src="https://cdn-images-1.medium.com/max/2560/1*AqNklmVHdflXU4aDbIAzAQ.png"></div><figcaption class="imageCaption">bait for ethereum¬†lovers</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="d81b" id="d81b" class="graf graf--p graf-after--figure">One of the greatest problems when it comes to development on ethereum private testnet is it‚Äôs slow consensus. Thanks to POW(Proof of Work). This problem also increases with time as the block difficulty increases. So, our testnet becomes slower and slower, block by block.</p><figure name="4dc3" id="4dc3" class="graf graf--figure graf--iframe graf-after--p"><iframe src="https://tenor.com/embed/5256464" width="600" height="400" frameborder="0" scrolling="no"></iframe><figcaption class="imageCaption">dog: How it feels like to use POW (<a href="https://tenor.com/view/turtle-friends-funny-dog-slow-gif-5256464" data-href="https://tenor.com/view/turtle-friends-funny-dog-slow-gif-5256464" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">source</a>)</figcaption></figure><p name="1666" id="1666" class="graf graf--p graf-after--figure">One obvious solution to this problem is to use a bigger machine as your miner. But eventually, after some time it will also get slow when it hits some big difficulty rate. But there is another easy solution to this problem, that is to reduce the rate at which blockchain difficulty increases to as low as 1/block.(i.e. your block difficulty rate will increase by only 1 per block)</p><p name="8f15" id="8f15" class="graf graf--p graf-after--p">Let‚Äôs see how it‚Äôs done.</p><h4 name="6ab8" id="6ab8" class="graf graf--h4 graf-after--p">Step 1: Clone go-ethereum</h4><pre name="905e" id="905e" class="graf graf--pre graf-after--h4">git clone <a href="https://github.com/ethereum/go-ethereum" data-href="https://github.com/ethereum/go-ethereum" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://github.com/ethereum/go-ethereum</a></pre><h4 name="0be0" id="0be0" class="graf graf--h4 graf-after--pre">Step 2: Create your own mutant¬†ethereum</h4><p name="9ef2" id="9ef2" class="graf graf--p graf-after--h4">Open <code class="markup--code markup--p-code">consensus.go</code> which resides at <code class="markup--code markup--p-code">consensus/ethash/consensus.go</code>¬†. Now search for the line given below.</p><pre name="ccd0" id="ccd0" class="graf graf--pre graf-after--p">return CalcDifficulty(chain.Config(), time, parent)</pre><p name="cd1d" id="cd1d" class="graf graf--p graf-after--pre">And replace it with</p><pre name="fe6d" id="fe6d" class="graf graf--pre graf-after--p">return big.NewInt(1)</pre><h4 name="d897" id="d897" class="graf graf--h4 graf-after--pre">Step 3: Build your mutant¬†ethereum</h4><p name="9237" id="9237" class="graf graf--p graf-after--h4">Head out to the root folder(go-ethereum) and run following command.</p><pre name="b157" id="b157" class="graf graf--pre graf-after--p">make geth</pre><p name="692a" id="692a" class="graf graf--p graf-after--pre">And after you are done, you will see this line at the end.</p><figure name="fc64" id="fc64" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 636px; max-height: 38px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 6%;"></div><img class="graf-image" data-image-id="1*cJg8FKWsIlJOENt0YgFX1g.png" data-width="636" data-height="38" src="https://cdn-images-1.medium.com/max/800/1*cJg8FKWsIlJOENt0YgFX1g.png"></div></figure><p name="3e62" id="3e62" class="graf graf--p graf-after--figure">Now, you can run this command to make your <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">mutant geth</em></strong> globally available.</p><pre name="dd48" id="dd48" class="graf graf--pre graf-after--p"> sudo mv build/bin/geth /usr/bin</pre><h4 name="002b" id="002b" class="graf graf--h4 graf-after--pre">Step 4: Let‚Äôs test it¬†out</h4><p name="1c12" id="1c12" class="graf graf--p graf-after--h4">Create a custom genesis file like one given below.</p><figure name="efaa" id="efaa" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/vasa-develop/65662034d24f5b0b89db7ec64d1f09f4.js"></script><figcaption class="imageCaption">genesis.json</figcaption></figure><p name="80f2" id="80f2" class="graf graf--p graf-after--figure">Now, run the following command to start your private testnet using your <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">mutant geth.</em></strong></p><pre name="8bb9" id="8bb9" class="graf graf--pre graf-after--p">geth --datadir ./DataDir init ./genesis.json<br>geth --datadir ./DataDir --networkid 1212 --mine --minerthreads=1 --etherbase=&quot;0x30f28686aef33adbfbc13797b1d9f5a2f2759f56&quot; console</pre><figure name="06e8" id="06e8" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 385px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 55.00000000000001%;"></div><img class="graf-image" data-image-id="1*jthtEg3mqESLatP0TBBJaw.png" data-width="1301" data-height="715" src="https://cdn-images-1.medium.com/max/800/1*jthtEg3mqESLatP0TBBJaw.png"></div><figcaption class="imageCaption">starting up private¬†testnet</figcaption></figure><p name="649b" id="649b" class="graf graf--p graf-after--figure">Now check the block difficulty using <code class="markup--code markup--p-code">admin.nodeInfo</code> console command.</p><figure name="adbe" id="adbe" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 285px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.699999999999996%;"></div><img class="graf-image" data-image-id="1*aa9toU595VmqW06XUGoBmA.png" data-width="1300" data-height="529" src="https://cdn-images-1.medium.com/max/800/1*aa9toU595VmqW06XUGoBmA.png"></div><figcaption class="imageCaption">at block: 9, difficulty: 9</figcaption></figure><p name="35f3" id="35f3" class="graf graf--p graf-after--figure">Voila, you are done. You have just created your own version of ethereum. That deserves some celebration.</p><figure name="e993" id="e993" class="graf graf--figure graf--iframe graf-after--p graf--trailing"><iframe src="https://tenor.com/embed/4384522" width="600" height="400" frameborder="0" scrolling="no"></iframe></figure></div></div></section><section name="a19a" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="2515" id="2515" class="graf graf--h4 graf--leading">Learned something? Click the üëè to say ‚Äúthanks!‚Äù and help others find this¬†article.</h4><p name="1910" id="1910" class="graf graf--p graf-after--h4"><em class="markup--em markup--p-em">Hold down the clap button if you liked the content! It helps me gain exposure¬†.</em></p><p name="1dfc" id="1dfc" class="graf graf--p graf-after--p">Want to learn more? Check out my previous articles‚Ä¶</p><div name="0799" id="0799" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://hackernoon.com/quantum-computing-is-it-the-end-of-blockchain-9ce4a9664720" data-href="https://hackernoon.com/quantum-computing-is-it-the-end-of-blockchain-9ce4a9664720" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/quantum-computing-is-it-the-end-of-blockchain-9ce4a9664720"><strong class="markup--strong markup--mixtapeEmbed-strong">Quantum Computing: Is it the end of blockchain?</strong><br><em class="markup--em markup--mixtapeEmbed-em">Experts are suggesting quantum computing may render blockchain obsolete. As the tech giants such as Google and IBM are‚Ä¶</em>hackernoon.com</a><a href="https://hackernoon.com/quantum-computing-is-it-the-end-of-blockchain-9ce4a9664720" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="0621fabdce44c9b934053355ae4634b2" data-thumbnail-img-id="1*8JzfIkH5mEr0TqAhSMbJkA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*8JzfIkH5mEr0TqAhSMbJkA.png);"></a></div><div name="c296" id="c296" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://hackernoon.com/eos-101-getting-started-with-eos-part-1-ab0324c233e0" data-href="https://hackernoon.com/eos-101-getting-started-with-eos-part-1-ab0324c233e0" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/eos-101-getting-started-with-eos-part-1-ab0324c233e0"><strong class="markup--strong markup--mixtapeEmbed-strong">EOS 101: Getting started with EOS, Part 1</strong><br><em class="markup--em markup--mixtapeEmbed-em">The only blockchain which has blocktime of less than a second: 0.5 sec!</em>hackernoon.com</a><a href="https://hackernoon.com/eos-101-getting-started-with-eos-part-1-ab0324c233e0" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="fd8747ef4c18e7ed85fa1f826a789f6f" data-thumbnail-img-id="1*_BKG3utRCovL4A9s78vEpA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*_BKG3utRCovL4A9s78vEpA.png);"></a></div><div name="7c88" id="7c88" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://hackernoon.com/quorum-101-getting-started-with-quorum-9906294ea45b" data-href="https://hackernoon.com/quorum-101-getting-started-with-quorum-9906294ea45b" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/quorum-101-getting-started-with-quorum-9906294ea45b"><strong class="markup--strong markup--mixtapeEmbed-strong">Quorum 101: Getting started with Quorum</strong><br><em class="markup--em markup--mixtapeEmbed-em">This post marks the first in a new Quorum series I am starting in an effort to provide some easy to read instructions‚Ä¶</em>hackernoon.com</a><a href="https://hackernoon.com/quorum-101-getting-started-with-quorum-9906294ea45b" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="0e9423347310a4b7c5a6fb3ece6bbea6" data-thumbnail-img-id="1*Ajlx1T--orDB8409_7c3oA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*Ajlx1T--orDB8409_7c3oA.png);"></a></div><div name="a7c4" id="a7c4" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/coinmonks/13-sidechain-projects-every-blockchain-developer-should-know-about-804b65364107" data-href="https://medium.com/coinmonks/13-sidechain-projects-every-blockchain-developer-should-know-about-804b65364107" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/coinmonks/13-sidechain-projects-every-blockchain-developer-should-know-about-804b65364107"><strong class="markup--strong markup--mixtapeEmbed-strong">13 sidechain projects every blockchain developer should know about</strong><br><em class="markup--em markup--mixtapeEmbed-em">The whole world is going through the blockchain revolution. But wait‚Ä¶is this really what we dreamed of? Present‚Ä¶</em>medium.com</a><a href="https://medium.com/coinmonks/13-sidechain-projects-every-blockchain-developer-should-know-about-804b65364107" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="47a933f0a2a854e802a0df436c7a5c2c" data-thumbnail-img-id="1*0lBFcDwvD7ryBTJLSnzYdg.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*0lBFcDwvD7ryBTJLSnzYdg.png);"></a></div><p name="bc9e" id="bc9e" class="graf graf--p graf-after--mixtapeEmbed graf--trailing"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Clap 50 times and follow me on Twitter: </em></strong><a href="https://twitter.com/itsmattward" data-href="https://twitter.com/itsmattward" class="markup--anchor markup--p-anchor" rel="noopener nofollow noopener noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">@</em></strong></a><a href="https://twitter.com/vasa_develop" data-href="https://twitter.com/vasa_develop" class="markup--anchor markup--p-anchor" rel="noopener nofollow noopener noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">vasa_develop</em></strong></a></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@vaibhavsaini_67863" class="p-author h-card">vasa</a> on <a href="https://medium.com/p/2ad505609e82"><time class="dt-published" datetime="2018-06-11T07:16:01.405Z">June 11, 2018</time></a>.</p><p><a href="https://medium.com/@vaibhavsaini_67863/how-to-reduce-block-difficulty-in-ethereum-private-testnet-2ad505609e82" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on July 19, 2019.</p></footer></article></body></html>