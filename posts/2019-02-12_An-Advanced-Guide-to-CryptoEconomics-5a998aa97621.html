<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>An Advanced Guide to CryptoEconomics</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">An Advanced Guide to CryptoEconomics</h1>
</header>
<section data-field="subtitle" class="p-summary">
What is CryptoEconomics and How does it affect Blockchains at a Fundamental Level?
</section>
<section data-field="body" class="e-content">
<section name="a761" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="87f1" id="87f1" class="graf graf--h3 graf--leading graf--title">An Advanced Guide to CryptoEconomics</h3><h4 name="37ae" id="37ae" class="graf graf--h4 graf-after--h3 graf--subtitle">What is CryptoEconomics and How does it affect Blockchains at a Fundamental Level?</h4></div><div class="section-inner sectionLayout--fullWidth"><figure name="d1b4" id="d1b4" class="graf graf--figure graf--layoutFillWidth graf-after--h4"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 62.5%;"></div><img class="graf-image" data-image-id="0*crH9Y-Apa66Em8DB" data-width="5472" data-height="3420" data-unsplash-photo-id="MJSFNZ8BAXw" data-is-featured="true" src="https://cdn-images-1.medium.com/max/2560/0*crH9Y-Apa66Em8DB"></div><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@timbatec?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com/@timbatec?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-creator noopener noopener noopener" target="_blank">Pepi Stojanovski</a> on <a href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" data-href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" class="markup--anchor markup--figure-anchor" rel="photo-source noopener noopener noopener" target="_blank">Unsplash</a></figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><figure name="9128" id="9128" class="graf graf--figure graf--iframe graf-after--figure"><iframe src="https://play.ht/embed/?article_url=https://medium.com/_p/an-advanced-guide-to-cryptoeconomics-5a998aa97621" width="700" height="185" frameborder="0" scrolling="no"></iframe></figure><p name="d612" id="d612" class="graf graf--p graf-after--figure">Almost all cryptocurrencies today require their users to attach fees to their transactions. The miners then add transactions paying the highest fees into the blockchain and derive an income stream. This mechanism, dubbed as “<a href="https://www.ssrn.com/abstract=3055380" data-href="https://www.ssrn.com/abstract=3055380" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">fee market</a>” is superficially appealing(as it’s driven almost entirely by such fees), and has led some to push hard for a blockchain vision.</p><p name="7524" id="7524" class="graf graf--p graf-after--p">Much of the BTC/BCH split stemmed from a difference of vision around this central point, where BTC developers wanted to steer Bitcoin away from a reliance on block rewards and towards higher transaction fees. In contrast, BCH developers reacted strongly to high fees and wanted to keep the economics of miner compensation centered primarily around block rewards. Both sides make good points: block rewards are not sustainable, because the number of coins outstanding is fixed and therefore the rewards must diminish over time. At the same time, high fees lead to terrible user experiences, where some users paid as much as $55 to send transactions, while others complained bitterly of stuck transactions.</p><p name="5454" id="5454" class="graf graf--p graf-after--p">During the dramatic Bitcoin price increase in December 2017, <a href="https://arxiv.org/pdf/1901.06830" data-href="https://arxiv.org/pdf/1901.06830" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">this paper</a> estimates that <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">users would have saved over $272 MILLION in transaction fees</em></strong> and miners would have a much more predictable fee revenue, reducing their daily fee variance an average of 7.4 times.</p><blockquote name="b652" id="b652" class="graf graf--pullquote graf-after--p"><a href="https://www.bis.org/publ/work765.pdf" data-href="https://www.bis.org/publ/work765.pdf" class="markup--anchor markup--pullquote-anchor" rel="noopener" target="_blank">This study</a> by BIS(Bank of International Settlements) shows once block rewards are near ZERO, it could take MONTHS before a Bitcoin payment is final unless new technologies are deployed to speed up payment finality.</blockquote><p name="ee02" id="ee02" class="graf graf--p graf-after--pullquote">The study also suggests that second-layer solutions such as the Lightning Network might help, but the only fundamental remedy would be to depart from proof-of-work(PoW), which would probably require some form of social coordination or institutionalization.</p><p name="2c83" id="2c83" class="graf graf--p graf-after--p">One of the main reasons for the above conclusion(departing from Proof-of-Work) is due to the fact that the transaction market cannot generate an adequate level of “mining” income via fees. Instead, the major source of mining income comes from the “block reward”, which is getting halved every 4 years and will eventually be quenched.</p><p name="dd42" id="dd42" class="graf graf--p graf-after--p">The idea of shifting from PoW to its alternatives(PoS) seems straight-forward, but bringing such change needs a great deal of social coordination or institutionalization and thus too hard to achieve.</p><p name="6278" id="6278" class="graf graf--p graf-after--p graf--trailing">So, in this article, we will discuss a few new ways of rethinking Fee distribution market(not just for bitcoin, but for all the cryptocurrencies in general). These new ways will not only create a sustainable income fee market for miners but also introduce new models which provide a far better user experience(as compared to today’s user experience) which will lead to more adoption of Dapps and DLTs(Distributed Ledger Technologies) in general.</p></div></div></section><section name="ad59" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="a639" id="a639" class="graf graf--h3 graf--leading">Fundamentals</h3><p name="9dc8" id="9dc8" class="graf graf--p graf-after--h3">In a blockchain, users submit transactions which are validated and added to the blocks by the block proposers(<em class="markup--em markup--p-em">aka</em> miners) and all the miners come to a common decision about which block to add by using consensus algorithm.</p><p name="ec28" id="ec28" class="graf graf--p graf-after--p">This process involves different costs for different participants:</p><ul class="postList"><li name="1b74" id="1b74" class="graf graf--li graf-after--p">A private benefit to its sender.</li><li name="b446" id="b446" class="graf graf--li graf-after--li">A private cost to the proposer that includes the transaction in a block.</li><li name="0215" id="0215" class="graf graf--li graf-after--li">A social cost to other nodes in the network, including a) All block proposers and other users and b) Present and future users.</li></ul><p name="a208" id="a208" class="graf graf--p graf-after--li">Let’s explore more on these costs.</p><h3 name="5767" id="5767" class="graf graf--h3 graf-after--p">Costs on User (aka Transaction Sender)</h3><p name="27f0" id="27f0" class="graf graf--p graf-after--h3">Under the current fee paradigm, a user wishing to submit a transaction must figure out an appropriate fee. This turns out to be a very difficult task.</p><p name="20c6" id="20c6" class="graf graf--p graf-after--p">This seems straightforward, but there are problems.</p><h4 name="a7bf" id="a7bf" class="graf graf--h4 graf-after--p">Fees and Cognitive Load</h4><p name="6e45" id="6e45" class="graf graf--p graf-after--h4">The first problem is the cognitive load on the user: it is difficult to decide exactly how much to bid, whether to go over or under. Evaluating the right price to get in depends on a lot of other factors. Exactly how important is this transaction to me right now? How full is the mempool? What are the competing bids? Given that there will be, in expectation, another 10 minutes of transactions streaming into the miners before the next block is discovered, how low a fee can she get away with while still getting her transaction included in the blockchain? These are clearly difficult questions. Doing the right thing involves watching the chain closely and monitoring the transaction until it is included, an act that detracts from the hassle-free use of one’s money. One may be tempted to just go through a middleman, such as an exchange, to handle it all, which creates centralization and simply recreates the current banking system except with unregulated exchanges as centralized custodians. This has, historically, led to a stream of exit scams and other <a href="https://deadcoins.com/" data-href="https://deadcoins.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">SFYL-events</a>.</p><h4 name="7dea" id="7dea" class="graf graf--h4 graf-after--p">Broken Attempts to Solve this Issue</h4><p name="e289" id="e289" class="graf graf--p graf-after--h4">But the real problem is much more fundamental, and it stems from the fact that the fee mechanism in Bitcoin and other currencies is implemented as a pay-what-you-bid, or multi-unit first-price, auction. This fee behavior will lead to “sticky” and unnecessarily high fees, followed by sudden fee collapses, just as we have seen over the course of the last few years.</p><p name="73b5" id="73b5" class="graf graf--p graf-after--p">To see why, imagine a universe where everyone is using a simple historical fee estimator. Specifically, imagine a fee estimator that looks back on historical transactions and suggests a fee based on what happened on average in the past. If transactions were paying an average of 100 satoshis per byte in the recent past, then a user will simply attach a fee of 100 or more satoshis per byte.</p><figure name="f587" id="f587" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 513px; max-height: 543px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 105.80000000000001%;"></div><img class="graf-image" data-image-id="1*ti0e6_NBMiWzktCbytaLOg.png" data-width="513" data-height="543" src="https://cdn-images-1.medium.com/max/800/1*ti0e6_NBMiWzktCbytaLOg.png"></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Fig 1</strong>: Fees dynamics in a transaction congestion cycle</figcaption></figure><p name="b026" id="b026" class="graf graf--p graf-after--figure">This approach is completely broken. During times of congestion(as the red line goes up), the fees to get included will naturally go up. This is because all the users will try to pay the same price they were paying before the congestion, but some transactions will not get through as a lot of people are paying the same price(miners will have to drop some transactions, as there are a limited number of transactions that can go into a block). So the price starts rising up. But <em class="markup--em markup--p-em">the price will remain high even after the congestion has ended(the blue line is still up even the red line drops)</em>. This is because the users will still pay the average price that the network was paying at the time of congestion. Even if some users try to underbid(in hope that maybe their transaction will get through), their transactions will not get through as miners are still getting transactions with high fees. This leads to users dropping their transactions and eventually when there are no more high fee transaction bids (which was at the time of congestion) the prices will drop drastically.</p><p name="5091" id="5091" class="graf graf--p graf-after--p">This approach will force the users to pay fees as if they were operating at the height of congestion even if the congestion has ended. The fee (the elevated fee) that arises during congestion remains the same in the system even though the conditions have changed, an artifact of bad mechanism design.</p><p name="bff1" id="bff1" class="graf graf--p graf-after--p">Blockchains are not the only place where similar auction mechanisms have led to poor user experiences. When ad placement in search engines was based on first price auctions, researchers observed similar patterns. Advertisers would compete with each other in order to get better placement, driving the fees sky high. This would be followed by many participants quitting the game, which would cause a precipitous drop, only to restart the unstable cycle all over again.</p><figure name="cc69" id="cc69" class="graf graf--figure graf--iframe graf-after--p"><blockquote class="twitter-tweet"><a href="https://twitter.com/lopp/status/707961488917590016?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E707961488917590016&amp;ref_url=https%3A%2F%2Fmedium.com%2Fmedia%2F2f584f7cd79ef364314460c30f43a435%3FpostId%3Dea9319e4ea57"></a></blockquote><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></figure><h4 name="40a2" id="40a2" class="graf graf--h4 graf-after--figure">Solution: Multi-Unit Second-Price Auctions</h4><p name="29b2" id="29b2" class="graf graf--p graf-after--h4">The heading seems a bit complex, but the proposed mechanism is fairly simple: transactions specify a fee, just like before, and miners place transactions in a block, just like before. Except, instead of charging each transaction the fee it bid, we charge each transaction the lowest fee charged to any transaction in that block. Any surplus fees a transaction offered are returned to that user, to a designated address they specify. Hence, a transaction in effect says “I am willing to pay up to $30 for this transaction,” but is charged only $5 if the lowest fee transaction in that block paid $5. The remaining $25 are returned to the user.</p><p name="e714" id="e714" class="graf graf--p graf-after--p">This proposed mechanism brings insights from multi-unit second price auctions(used in Advertisement auctions) to the world of cryptocurrencies where currently multi-unit first price auctions are the norm. Whereas before, fee selection was a stressful and difficult task, with this mechanism, users can simply attach to their transaction the true maximum value they would be happy to pay. This is because they are not going to be charged that value: instead, they are charged whatever the minimum was to get into that block. In essence, the lowest paying transaction establishes just how little it took to get into that block, and everyone within that block is charged the same amount per byte. This is not only equitable and fair, but it takes away the pressure to play games with fee selection. As an additional bonus, the benefit from playing such games decreases as the blockchain gets more popular, further disincentivizing strategic fee selection. Note also that it picks the highest-paying transactions, just like first-price auctions, though it charges them strictly less than what they would be willing to bear…</p><h3 name="dafe" id="dafe" class="graf graf--h3 graf-after--p">Cost on Block Proposer/Validator(Miner)</h3><p name="f37b" id="f37b" class="graf graf--p graf-after--h3">Block proposers/validators also suffer from the current Multi-Unit First-Price Model. As we saw in Fig 1(above) the price suddenly drops. This kind of cycle leads to an unstable revenue, which makes transaction fees an unreliable source of income for proposers. This forces them to heavily rely on another source of revenue, the block reward. But as block reward will end up eventually, this(current) model is not sustainable for the long run.</p><h4 name="ded9" id="ded9" class="graf graf--h4 graf-after--p">Solution: Multi-Unit Second-Price Auctions</h4><p name="c1ab" id="c1ab" class="graf graf--p graf-after--h4">Using the Multi-Unit Second-Price Model results in better stability in revenue from the transaction fees. But there are some ways in which miners can try to manipulate the system to maximize their revenue. Different papers(discussed below) suggest different ways to mitigate these loopholes. Before discussing the mitigations these papers propose, let’s see the issues that may arise when we use this new model.</p><h4 name="de9f" id="de9f" class="graf graf--h4 graf-after--p">Malicious Miner Behaviour</h4><figure name="a85f" id="a85f" class="graf graf--figure graf-after--h4"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 349px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 49.9%;"></div><img class="graf-image" data-image-id="1*MRSR6HzED6yx1j5PDJFOQg.png" data-width="946" data-height="472" src="https://cdn-images-1.medium.com/max/800/1*MRSR6HzED6yx1j5PDJFOQg.png"></div><figcaption class="imageCaption">Malicious miner maximizing transaction fees revenue</figcaption></figure><p name="8620" id="8620" class="graf graf--p graf-after--figure">The above graph shows the policy by which a miner fills transactions in a block. The grey portion in the <em class="markup--em markup--p-em">Miner Revenue </em>and the black region are the revenue that a miner pays to himself (which means the fees he paid for adding his own transactions in the block). The goal of the miner is to maximize the grey area.</p><p name="d7e3" id="d7e3" class="graf graf--p graf-after--p">The miner receives a number of transactions offering different transaction fees(represented by the <em class="markup--em markup--p-em">Bids </em>line). Now miner chooses the minimum Gas price for which he will add a transaction to the block. Higher the average gas price is the more the revenue will be.</p><p name="e5f2" id="e5f2" class="graf graf--p graf-after--p">In order to manipulate the market(increasing the average gas price to get included in the block), miners can jack up the minimum price to get in and add their self-generated transactions(with high gas prize) into the block to fill it. So only the transactions offering high gas price will get in. Eventually, in desperation, users will start offering a higher gas price for their transactions, thus increasing the average gas price to get in.</p><p name="dec3" id="dec3" class="graf graf--p graf-after--p">Also, miners can make private deals with particular users to send them transactions with a high gas price, and refund them under the table. This tactic will eventually increase the average gas price.</p><h4 name="9e83" id="9e83" class="graf graf--h4 graf-after--p">Mitigation of Malicious miner Problem</h4><p name="5aed" id="5aed" class="graf graf--p graf-after--h4">In my opinion, the best approach to mitigate these issues was provided by <a href="https://arxiv.org/pdf/1901.06830" data-href="https://arxiv.org/pdf/1901.06830" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">this paper</a>.</p><p name="2837" id="2837" class="graf graf--p graf-after--p">This paper couples Multi-Unit Second-Price model idea with three other mechanisms to provide a comprehensive solution that prevents malicious behavior by miners.</p><ul class="postList"><li name="5102" id="5102" class="graf graf--li graf-after--p">First, if a miner fails to fill a block, they cannot charge any fees. So a miner cannot take a high-paying transaction, ignore the rest of the mempool, and collect the entirety of the fee paid by that transaction while refusing to fill a block. They are, of course, free to fill the rest of the block with their own synthetic transactions, but they will have to pay out of their own pockets for those (and the next point addresses why the miner cannot just pay those additional fees directly to himself).</li><li name="a188" id="a188" class="graf graf--li graf-after--li">Second, a miner is rewarded the average fee collected from the last B blocks, not just the fees from the block they themselves mined. This ensures that miners also have little incentive to act strategically. Instead, their best interests are aligned with maximizing the number of high-value transactions cleared per second. The only issue occurs when a majority of miners start manipulating the system(filling blocks with self-generated high fees transactions). Thus increasing the average fee paid. But this kind of attack can increase the average price only by a small factor as miners will benefit only if users are desperate enough to offer the price that the miners are asking for. So, increasing the gas price too much will not be a sustainable attack.</li><li name="80f0" id="80f0" class="graf graf--li graf-after--li">Finally, the paper proposes that every block reserves some space, around 20%, which are exempt from this mechanism. This enables a miner to include transactions of high importance to themselves, such as those used for pool rewards, without affecting the fee mechanism and without being penalized. This addresses the miners’ needs and provides a simple migration path from the current state of affairs.</li></ul><p name="a7b8" id="a7b8" class="graf graf--p graf-after--li">The above approach is also prone to economic attacks in which miners refund some users under the table to submit high gas price transactions.</p><p name="240f" id="240f" class="graf graf--p graf-after--p">Other papers such as this, by <a href="https://medium.com/u/587a00dbce51" data-href="https://medium.com/u/587a00dbce51" data-anchor-type="2" data-user-id="587a00dbce51" data-action-value="587a00dbce51" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Vitalik Buterin</a>, suggests a slightly different approach.</p><p name="f96a" id="f96a" class="graf graf--p graf-after--p">The idea in this paper is that you basically establish a minimum fee(to get in the block) that gets burned. The burned fee either gets deleted from the supply or it gets paid out as a block reward to the entire set of miners of validators over a very long period of time. The fee is adjusted within the protocol so that on an average the blocks are, say 50% full. This paper focuses more on the social cost which is incurred by the blockchain network(which we will discuss in the next section). This approach also successfully restricts the miners from manipulating the market to some extent.</p><p name="fe84" id="fe84" class="graf graf--p graf-after--p">Another <a href="https://arxiv.org/pdf/1709.08881.pdf" data-href="https://arxiv.org/pdf/1709.08881.pdf" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">paper</a>, by <a href="https://ronlavi.net.technion.ac.il/" data-href="https://ronlavi.net.technion.ac.il/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Ron Lavi</a>, <a href="https://orsattath.wordpress.com/about/" data-href="https://orsattath.wordpress.com/about/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Or Sattath</a>, and <a href="https://medium.com/u/3c9d9c6a8118" data-href="https://medium.com/u/3c9d9c6a8118" data-anchor-type="2" data-user-id="3c9d9c6a8118" data-action-value="3c9d9c6a8118" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Aviv Zohar</a> gives some similar solutions(uses the Multi-Unit Second-Price model) but also differs in many ways. The major difference in this paper is that it considers the collective of miners as a single monopolist that can coherently charge non-competitive prices from the users. Here is the outline of their monopolistic model:</p><ul class="postList"><li name="f8f0" id="f8f0" class="graf graf--li graf-after--p">Each transaction specifies a bid which is the maximal fee it is willing to pay.</li><li name="1542" id="1542" class="graf graf--li graf-after--li">Miners can choose which subset of transactions they include in their block.</li><li name="600e" id="600e" class="graf graf--li graf-after--li">All transactions in the block pay the exact same fee, which is given by the lowest bid contained in the block.</li><li name="1a63" id="1a63" class="graf graf--li graf-after--li">Miners are expected to choose transactions in a way that will maximize the revenue obtained, i.e., maximize the number of included transactions times the minimum bid.</li></ul><p name="43e6" id="43e6" class="graf graf--p graf-after--li">It also states that as the mechanism above provides miners the maximal revenue (by allowing them to select the set of included transactions and effectively set the monopolistic price), myopic miners gain nothing from a range of manipulations of the protocol, mainly, adding fake transactions, or excluding legitimate ones.</p><p name="3997" id="3997" class="graf graf--p graf-after--p">They also focus on a set of users, called “impatient users”, defined as those who desire that their transaction will be included in the next block, and have no utility from inclusion in later blocks. This effectively makes it a single shot game, rather than a repeated game which is often much harder to analyze.</p><p name="de63" id="de63" class="graf graf--p graf-after--p">As stated by one of the authors in a recent conversation, “Patient users”(which are not included in the study) can gain from being strategic(i.e. non-truthful).</p><figure name="f63d" id="f63d" class="graf graf--figure graf--iframe graf-after--p"><blockquote class="twitter-tweet"><a href="https://twitter.com/or_sattath/status/1095332087639433216"></a></blockquote><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></figure><p name="6b5f" id="6b5f" class="graf graf--p graf-after--figure">This approach of mainly considering “impatient users”(and not all the users that also include users who are willing to wait and thus will not bid as high as the impatient users, hence decreasing miner revenue) seems to neglect some of the dynamics of the fee economy. But as stated by <a href="https://medium.com/u/3c9d9c6a8118" data-href="https://medium.com/u/3c9d9c6a8118" data-anchor-type="2" data-user-id="3c9d9c6a8118" data-action-value="3c9d9c6a8118" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Aviv Zohar</a> in a recent conversation, this critique applies to almost all the works in auction theory, including other fee market papers.</p><figure name="9ca0" id="9ca0" class="graf graf--figure graf--iframe graf-after--p"><blockquote class="twitter-tweet"><a href="https://twitter.com/Avivz78/status/1094521850170929152"></a></blockquote><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></figure><h3 name="a223" id="a223" class="graf graf--h3 graf-after--figure">Social Cost</h3><p name="4e27" id="4e27" class="graf graf--p graf-after--h3">The social cost is an externality(external cost) that are paid by third parties that have no choice in the decision of whether or not this transaction gets included in the blockchain.</p><p name="acc3" id="acc3" class="graf graf--p graf-after--p">The social costs can be broken down in the following categories in terms of resource expenditure:</p><ul class="postList"><li name="b2ac" id="b2ac" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">Bandwidth cost:</em></strong> the cost of all nodes downloading each submitted transaction, bundling it into a block and then rebroadcasting the<br>transaction as part of some block.</li><li name="1c5e" id="1c5e" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">Computational cost:</em></strong> the cost of every node verifying each transaction.</li><li name="730b" id="730b" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">History storage cost:</em></strong> the cost of storing the transaction for all nodes<br>that store the blockchain’s history, for the time for which the history is<br>stored (possibly infinity).</li><li name="c337" id="c337" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">State storage cost:</em></strong> the marginal cost of the impact of the transaction<br>on the size of the state (eg. contract code, account balances) that every node must store to be able to process further transactions.<br>Note that the first two costs are costs that are paid by the nodes that are<br>online at the exact time when the transaction is included, the third cost is<br>paid by nodes that are online at that time or in the near future, but the fourth cost must be paid by all nodes forever unless a scheme is introduced<br>that makes all state entries temporary.</li></ul><p name="0f26" id="0f26" class="graf graf--p graf-after--li">These external costs are unaccounted for if proposers(miners) have full free choice of what to include. So, if the proposers have full freedom to decide then proposers are going to accept all of the transactions that are worth at least their private cost. But the social cost is much much higher than the private cost. So if proposers accept all of the transactions that they want, the blockchain will just have way-way more transactions in it than is optimal, and eventually, it would bloat the blockchain. We will have nodes which take an extremely large amount of computational resources to run(which may also not even worth the revenue)…And we don’t want that.</p><h4 name="f997" id="f997" class="graf graf--h4 graf-after--p">Pricing Social Externalities</h4><p name="0a5b" id="0a5b" class="graf graf--p graf-after--h4">One question that we should ask ourselves is that “What is the social cost of including a transaction in the blockchain?” because the answer to this question is going to decide the answer to other questions like:</p><ul class="postList"><li name="6dbe" id="6dbe" class="graf graf--li graf-after--p">How big should be the block size(so as to balance the private and social costs)?</li><li name="13f1" id="13f1" class="graf graf--li graf-after--li">Should there be a limit or should we instead get rid of the limit and instead have the protocol charge a fixed fee?</li></ul><p name="ef1b" id="ef1b" class="graf graf--p graf-after--li">In order to answer this kind of question we need to look at not just the social cost at any one point but the social cost across many different points.</p><figure name="7d49" id="7d49" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 329px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47%;"></div><img class="graf-image" data-image-id="1*0MFJSGrxhH211W10VSLlJw.png" data-width="995" data-height="468" src="https://cdn-images-1.medium.com/max/800/1*0MFJSGrxhH211W10VSLlJw.png"></div></figure><p name="7bb8" id="7bb8" class="graf graf--p graf-after--figure">The chart on the left is a study made by Cornell in 2014. They basically tried to estimate if the size of blocks in the Bitcoin blockchain were to increase how many nodes would continue to be able to process the blocks and stay synchronized to the network.</p><p name="1797" id="1797" class="graf graf--p graf-after--p">At block size:</p><ul class="postList"><li name="b292" id="b292" class="graf graf--li graf-after--p">4-megabytes, the number of nodes would decrease to 90% of the original value.</li><li name="2784" id="2784" class="graf graf--li graf-after--li">15 megabytes it would decrease to 75% of the original value.</li><li name="61de" id="61de" class="graf graf--li graf-after--li">38 megabytes it would decrease to 50% of the original value.</li><li name="4bbb" id="4bbb" class="graf graf--li graf-after--li">211 megabytes it would decrease to 10% of the original value.</li></ul><p name="741e" id="741e" class="graf graf--p graf-after--li">So, this is one kind of social cost of shoving your transaction into a blockchain. The more transactions you shove the harder it will be for people to run a node and the fewer people you’ll have running a node.</p><p name="4149" id="4149" class="graf graf--p graf-after--p">This was one type of cost in which every computer has to do more work as the number of transactions increase.</p><p name="1f9e" id="1f9e" class="graf graf--p graf-after--p">The other cost is that as the number of nodes in the network decrease, the level of decentralization also decreases, thus becoming more centralized. This makes the network more vulnerable to political and economic risks.</p><p name="2010" id="2010" class="graf graf--p graf-after--p">The chart on the right depicts a crude measurement of the second type of cost. Assuming that the Decentralization utility(D) is a logarithmic function of the number of nodes, will mean that cutting down the number of nodes by a factor of two always has the same cost. So, it’s just harmful to go from 10,000 to 5000 as it is to go from 1000 to 500.</p><p name="4fe2" id="4fe2" class="graf graf--p graf-after--p">So, combining this with the first observation(the % drop in nodes as we increase the block size), the drop in utility as we increase the block limit starts off high(as a large number of nodes leave when we increase block limit from 4mb to 38mb) and it eventually becomes horizontal(as a small number of nodes leave as the block limit increases from say 150mb to 211mb) at large block limits.</p><p name="3aa9" id="3aa9" class="graf graf--p graf-after--p">The intuition for this curve comes from the fact that if you have a block limit of 100kb you can use every smartphone, IOT device as a node. If you go form 100kb to a block limit of 400kb, chances are a lot of devices will not be able to support as a node. Now, imagine going from 1.1 MB to 1.4 MB, sure you lose some devices but not as much as going from 100kb to 400kb.</p><p name="19d4" id="19d4" class="graf graf--p graf-after--p">This is one way to see the correlation between the block size and the social cost incurred by the network. Below is another way to see this.</p><figure name="25b6" id="25b6" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 597px; max-height: 541px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 90.60000000000001%;"></div><img class="graf-image" data-image-id="1*ZWh-Lz6LkEMFyZ_H3I-V3Q.png" data-width="597" data-height="541" src="https://cdn-images-1.medium.com/max/800/1*ZWh-Lz6LkEMFyZ_H3I-V3Q.png"></div><figcaption class="imageCaption">Relationship between block gas limit and uncle rate</figcaption></figure><p name="17f6" id="17f6" class="graf graf--p graf-after--figure">The above graph shows the correlation between the gas limit and the uncle rates (uncle blocks are blocks which are valid blocks but are not a part of the main chain). We can see that the uncle rate increases as the block limit increases.</p><p name="575a" id="575a" class="graf graf--p graf-after--p">The uncle rate depicts the inefficiency of a network to process the blocks, making the network more vulnerable problems like to double-spending attacks, selfish mining. Also, as the block limit goes the nodes start dropping off(as they are not getting enough ROI), and as the nodes drop off the hardware of the nodes can be bought by the attackers which further worsens the security of the network.</p><p name="bdd6" id="bdd6" class="graf graf--p graf-after--p">So, combining the above 2 figures, we could argue that the social cost curves against the block size limit will look something like this:</p><figure name="2c4f" id="2c4f" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 638px; max-height: 412px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 64.60000000000001%;"></div><img class="graf-image" data-image-id="1*tUbM2Qo90An96eEKJoiZVw.png" data-width="638" data-height="412" src="https://cdn-images-1.medium.com/max/800/1*tUbM2Qo90An96eEKJoiZVw.png"></div><figcaption class="imageCaption">possible total social cost curve for blockchains accepting transactions</figcaption></figure><p name="0f79" id="0f79" class="graf graf--p graf-after--figure">So, in the left side, you have a high marginal cost initially, as we move from very small blocks(100kb) to small blocks(400kb) a large number of nodes drop off(No more full nodes on every smartphone). In the middle, it becomes a bit linear as NOT a lot of nodes are dropping and uncle rates are not that high. But on the right side, the uncle rate starts to rise, imposing several social threats to the network, thus increasing the marginal social cost.</p><p name="cf2e" id="cf2e" class="graf graf--p graf-after--p">This was one way of seeing a social cost. There is another social cost, which is storage fees. The thing that is different about the storage fees with respect to computational cost is that computational cost is incurred by the current users as only current users have to process the transactions, but storage is a thing that every node, that is present today, or will join in tomorrow, all will have to do.</p><p name="6806" id="6806" class="graf graf--p graf-after--p">This kind of cost is bigger for platforms which allow programmability such as Ethereum. Let’s see what are the specific problems does the storage part faces.</p><ul class="postList"><li name="20f0" id="20f0" class="graf graf--li graf-after--p">First, there is a one-time storage cost norm. This is not a good policy as storage is a cost which is incurred not just by a present user but also by the future users.</li><li name="dc88" id="dc88" class="graf graf--li graf-after--li">Second, storage is really underpriced today as compared to computational costs.</li><li name="45e3" id="45e3" class="graf graf--li graf-after--li">There is not enough incentive to clear storage.</li><li name="8927" id="8927" class="graf graf--li graf-after--li">There is not enough incentive to clear storage earlier rather than later.</li><li name="714a" id="714a" class="graf graf--li graf-after--li">An incentive to create second-layer markets(like GasToken), which if implemented will create it’s own inefficiencies and issues, thus creating more problems.</li></ul><h4 name="2767" id="2767" class="graf graf--h4 graf-after--li">Solution: On-Going Storage Fees</h4><p name="8944" id="8944" class="graf graf--p graf-after--h4">The idea here is that instead of making storage fees a one-time cost, it will be charged on an ongoing basis. So if you have to pay some cost per byte per block for every byte you are storing on the blockchain. The advantage of doing this is that it aligns the incentives in a better way, because if you are adding something which everybody has to store, not just today, but also for the future, then this type of fee model makes more sense. If you don’t pay for it then it will be eventually deleted.</p><p name="b824" id="b824" class="graf graf--p graf-after--p">Now, this model has been opposed a lot because of a few reasons:</p><ul class="postList"><li name="7a8d" id="7a8d" class="graf graf--li graf-after--p">It affects the guarantee of the immutability of the code on the blockchain. (As the code can be deleted anytime if the fee has not been paid)</li><li name="aeb6" id="aeb6" class="graf graf--li graf-after--li">Also, there are some cases like if you build a contract, which depends on another contract(not your contract), which goes bankrupt. A lot of contract like this exist today which allow other contracts to add storage to it, thus increasing its storage size. This will cause the rent of the shared contract going so high that the owner can’t manage to keep up with the payments.</li><li name="77b8" id="77b8" class="graf graf--li graf-after--li">Also, if there a contract that is a public good(like ENS contract) which provides a value to a very large set of users, who will pay for it?</li></ul><p name="be76" id="be76" class="graf graf--p graf-after--li">One interesting mitigation to these(problem 2,3) is <strong class="markup--strong markup--p-strong">Hibernation.</strong></p><h4 name="ee58" id="ee58" class="graf graf--h4 graf-after--p">Hibernation</h4><p name="e5e9" id="e5e9" class="graf graf--p graf-after--h4">The idea behind hibernation is that if the contract fails to provide storage fees, it doesn’t get deleted, it gets removed from the active state and is put in the history. While it is in the “hibernated” state, no one can interact with it, but if someone whats to interact with it you can basically supply proofs(proofs about when the contract was hibernated) and you can revive the contract. You can provide a pointer which will tell where was the contract previously hibernated, and what was its state when it was hibernated and provide a proof that the contract was not woken before and now I am going to wake it up. This basically resets the contract to that particular state.</p><figure name="5196" id="5196" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 220px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 31.5%;"></div><img class="graf-image" data-image-id="1*Y7o6uaIRuRdHcr-upHSvwg.png" data-width="743" data-height="234" src="https://cdn-images-1.medium.com/max/800/1*Y7o6uaIRuRdHcr-upHSvwg.png"></div><figcaption class="imageCaption">Hibernation Vulnerability: Waking up a contract Twice</figcaption></figure><p name="e3e1" id="e3e1" class="graf graf--p graf-after--figure graf--trailing">There is a vulnerability that is possible. This vulnerability allows a contract to be woken up twice. But there are ways to mitigate this kind of problem.</p></div></div></section><section name="b844" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="9a9d" id="9a9d" class="graf graf--p graf--leading">Thanks for reading ;)</p><h4 name="dc58" id="dc58" class="graf graf--h4 graf-after--p">Learned something? Press and hold the 👏 to say “thanks!” and help others find this article.</h4><p name="abe6" id="abe6" class="graf graf--p graf-after--h4"><em class="markup--em markup--p-em">Hold down the clap button if you liked the content! It helps me gain exposure.</em></p><figure name="e1ef" id="e1ef" class="graf graf--figure graf--layoutOutsetLeft graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 370px; max-height: 370px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div><img class="graf-image" data-image-id="1*PLw22EAlfu-TQhvLa6r4Yg.jpeg" data-width="370" data-height="370" src="https://cdn-images-1.medium.com/max/600/1*PLw22EAlfu-TQhvLa6r4Yg.jpeg"></div></figure><p name="ee7d" id="ee7d" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">About the Author</strong></p><p name="3cad" id="3cad" class="graf graf--p graf-after--p"><a href="http://vaibhavsaini.com/" data-href="http://vaibhavsaini.com/" class="markup--anchor markup--p-anchor" rel="noopener nofollow noopener nofollow noopener nofollow noopener noopener noopener noopener nofollow noopener nofollow noopener nofollow noopener noopener noopener noopener" target="_blank">Vaibhav Saini</a> is a Co-Founder of <a href="http://towardsblockchain.com" data-href="http://towardsblockchain.com" class="markup--anchor markup--p-anchor" rel="noopener nofollow noopener nofollow noopener nofollow noopener noopener noopener noopener nofollow noopener nofollow noopener nofollow noopener noopener noopener noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">TowardsBlockchain</em></strong></a><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">, </em></strong><em class="markup--em markup--p-em">an MIT Cambridge Innovation Center incubated startup.</em></p><p name="e0c8" id="e0c8" class="graf graf--p graf-after--p">He works as Senior blockchain developer and has worked on several blockchain platforms including Ethereum, Quorum, EOS, Nano, Hashgraph, IOTA etc.</p><p name="b36c" id="b36c" class="graf graf--p graf-after--p">He is a Speaker, Writer and a drop-out from <a href="http://www.iitd.ac.in/" data-href="http://www.iitd.ac.in/" class="markup--anchor markup--p-anchor" rel="noopener nofollow noopener nofollow noopener nofollow noopener noopener noopener noopener nofollow noopener nofollow noopener nofollow noopener noopener noopener noopener" target="_blank">IIT Delhi</a>.</p><p name="a21a" id="a21a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Want to learn more? Check out my previous articles.</em></strong></p><div name="81f2" id="81f2" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://hackernoon.com/consensuspedia-an-encyclopedia-of-29-consensus-algorithms-e9c4b4b7d08f" data-href="https://hackernoon.com/consensuspedia-an-encyclopedia-of-29-consensus-algorithms-e9c4b4b7d08f" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/consensuspedia-an-encyclopedia-of-29-consensus-algorithms-e9c4b4b7d08f" rel="nofollow"><strong class="markup--strong markup--mixtapeEmbed-strong">ConsensusPedia: An Encyclopedia of 30+ Consensus Algorithms</strong><br><em class="markup--em markup--mixtapeEmbed-em">A complete list/comparison of all consensus algorithms.</em>hackernoon.com</a><a href="https://hackernoon.com/consensuspedia-an-encyclopedia-of-29-consensus-algorithms-e9c4b4b7d08f" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="03bbca255c9ab55c0112e7879627edb3" data-thumbnail-img-id="0*y462aeJ4wg8HHYSs" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*y462aeJ4wg8HHYSs);"></a></div><div name="6cdd" id="6cdd" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://hackernoon.com/getting-deep-into-ethereum-how-data-is-stored-in-ethereum-e3f669d96033" data-href="https://hackernoon.com/getting-deep-into-ethereum-how-data-is-stored-in-ethereum-e3f669d96033" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/getting-deep-into-ethereum-how-data-is-stored-in-ethereum-e3f669d96033" rel="nofollow"><strong class="markup--strong markup--mixtapeEmbed-strong">Getting Deep Into Ethereum: How Data Is Stored In Ethereum?</strong><br><em class="markup--em markup--mixtapeEmbed-em">In this post, we will see how states and transactions are stored in Ethereum and how it is different from Bitcoin.</em>hackernoon.com</a><a href="https://hackernoon.com/getting-deep-into-ethereum-how-data-is-stored-in-ethereum-e3f669d96033" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="f1c6e01fc190914edbec14aa93c3ae61" data-thumbnail-img-id="1*f0vOn0lRgrY5NjFlbUMBFg.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*f0vOn0lRgrY5NjFlbUMBFg.jpeg);"></a></div><div name="148a" id="148a" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://hackernoon.com/contractpedia-an-encyclopedia-of-40-smart-contract-platforms-4867f66da1e5" data-href="https://hackernoon.com/contractpedia-an-encyclopedia-of-40-smart-contract-platforms-4867f66da1e5" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/contractpedia-an-encyclopedia-of-40-smart-contract-platforms-4867f66da1e5" rel="nofollow"><strong class="markup--strong markup--mixtapeEmbed-strong">ContractPedia: An Encyclopedia of 40+ Smart Contract Platforms</strong><br><em class="markup--em markup--mixtapeEmbed-em">A Complete Comparision of all Blockchain/DLT Platforms</em>hackernoon.com</a><a href="https://hackernoon.com/contractpedia-an-encyclopedia-of-40-smart-contract-platforms-4867f66da1e5" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="a949ea9028a00c3bb62dfc3f160efc92" data-thumbnail-img-id="0*zDyDSLiGCSPQHEMq.jpg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*zDyDSLiGCSPQHEMq.jpg);"></a></div><div name="2d50" id="2d50" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://hackernoon.com/a-beginners-ultimate-guide-to-dags-7fc0dd7f39a2" data-href="https://hackernoon.com/a-beginners-ultimate-guide-to-dags-7fc0dd7f39a2" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/a-beginners-ultimate-guide-to-dags-7fc0dd7f39a2" rel="nofollow"><strong class="markup--strong markup--mixtapeEmbed-strong">A Beginner’s Ultimate Guide To DAGs</strong><br><em class="markup--em markup--mixtapeEmbed-em">What Are DAGs and How do they Work?</em>hackernoon.com</a><a href="https://hackernoon.com/a-beginners-ultimate-guide-to-dags-7fc0dd7f39a2" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="b4adfbf6431ba525159687951eab7ed3" data-thumbnail-img-id="0*jfWZFflYM18tZKhL.jpg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*jfWZFflYM18tZKhL.jpg);"></a></div><p name="120e" id="120e" class="graf graf--p graf-after--mixtapeEmbed graf--trailing"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Clap 50 times and follow me on Twitter: </em></strong><a href="https://twitter.com/vasa_develop" data-href="https://twitter.com/vasa_develop" class="markup--anchor markup--p-anchor" rel="noopener nofollow nofollow noopener nofollow noopener noopener noopener noopener noopener noopener noopener nofollow noopener noopener nofollow noopener noopener noopener nofollow noopener nofollow noopener nofollow noopener noopener noopener noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">@vasa_develop</em></strong></a></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@vaibhavsaini_67863" class="p-author h-card">vasa</a> on <a href="https://medium.com/p/5a998aa97621"><time class="dt-published" datetime="2019-02-12T13:36:00.962Z">February 12, 2019</time></a>.</p><p><a href="https://medium.com/@vaibhavsaini_67863/an-advanced-guide-to-cryptoeconomics-5a998aa97621" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on July 19, 2019.</p></footer></article></body></html>