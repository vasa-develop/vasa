<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Serializing string arrays in solidity</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Serializing string arrays in solidity</h1>
</header>
<section data-field="subtitle" class="p-summary">
TL;DR This GitHub repository is all you need.
</section>
<section data-field="body" class="e-content">
<section name="bcfe" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7253" id="7253" class="graf graf--h3 graf--leading graf--title">Serializing string arrays in¬†solidity</h3><blockquote name="c1a9" id="c1a9" class="graf graf--pullquote graf-after--h3">TL;DR <a href="https://github.com/vasa-develop/serialize-solidity" data-href="https://github.com/vasa-develop/serialize-solidity" class="markup--anchor markup--pullquote-anchor" rel="noopener" target="_blank">This GitHub repository</a> is all you¬†need.</blockquote><figure name="953a" id="953a" class="graf graf--figure graf-after--pullquote"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 700px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div><img class="graf-image" data-image-id="1*36dEqQ35Z3mUBRIRVsjfnw.png" data-width="2000" data-height="2000" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*36dEqQ35Z3mUBRIRVsjfnw.png"></div></figure><p name="3732" id="3732" class="graf graf--p graf-after--figure">Solidity is still in development and that‚Äôs why it still lacks in a lot of features that a good programming language should have. One of the features which solidity is missing is that it cannot return or take multi-dimensional arrays as input. Well, that does not seem important but when we talk about strings, we realize that they are just arbitrary-length byte array(i.e. <code class="markup--code markup--p-code">byte[]</code>). So when you create a string array, you are creating a two-dimensional byte array(i.e. <code class="markup--code markup--p-code">byte[][]</code>). This is where we all get stuck. Kinda like a trap‚Ä¶</p><figure name="8638" id="8638" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 400px; max-height: 226px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.49999999999999%;"></div><img class="graf-image" data-image-id="1*ohDurfAtD2ECtUz0z6CkYA.gif" data-width="400" data-height="226" src="https://cdn-images-1.medium.com/max/800/1*ohDurfAtD2ECtUz0z6CkYA.gif"></div><figcaption class="imageCaption">it‚Äôs a¬†trap!</figcaption></figure><p name="2b6a" id="2b6a" class="graf graf--p graf-after--figure">That‚Äôs enough of talking, let‚Äôs get to work. The easiest and the most efficient way to get over this problem is to serialize the strings in the array(converting the strings in the array into byte form) and send all of them in one go. After we receive the string array in the byte form we can either pass the byte array as input to another solidity function or send it to user-end(node.js api) where we will de-serialize it back to the string array. Let‚Äôs see how it works.</p><h4 name="7a9b" id="7a9b" class="graf graf--h4 graf-after--p">Step 1: Serialize &amp; De-serialize using¬†solidity</h4><p name="9996" id="9996" class="graf graf--p graf-after--h4">For serializing/de-serializing in solidity we will use <a href="https://github.com/pouladzade/Seriality" data-href="https://github.com/pouladzade/Seriality" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Seriality</a> which can be used to serialize and de-serialize any data type in solidity. Thanks to <a href="https://github.com/pouladzade" data-href="https://github.com/pouladzade" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">pouladzade</a>.</p><figure name="b042" id="b042" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/vasa-develop/f71e24eee5cd18cdbc2bc0c2ec0ab22c.js"></script><figcaption class="imageCaption">serialize.sol</figcaption></figure><p name="43b3" id="43b3" class="graf graf--p graf-after--figure">You will get some output like this (for <code class="markup--code markup--p-code">startindex</code>=1, <code class="markup--code markup--p-code">endindex</code>=2).</p><pre name="a48c" id="a48c" class="graf graf--pre graf-after--p">0x737472696e6731000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007737472696e6732000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007737472696e6733000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007</pre><p name="0a59" id="0a59" class="graf graf--p graf-after--pre">Now, pass this bytes buffer into <code class="markup--code markup--p-code">getString()</code>and you will get your strings back!</p><p name="f18b" id="f18b" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Note:</em></strong> You have to include <a href="https://github.com/pouladzade/Seriality" data-href="https://github.com/pouladzade/Seriality" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Seriality</a> files to your project to make the contract working. You can do that from <a href="https://github.com/vasa-develop/serialize-solidity/tree/master/contracts" data-href="https://github.com/vasa-develop/serialize-solidity/tree/master/contracts" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>.</p><h4 name="dc07" id="dc07" class="graf graf--h4 graf-after--p">Step 2: De-serialize the byte buffer using javascript</h4><p name="c755" id="c755" class="graf graf--p graf-after--h4">Now, using javascript we can get our string array back.</p><figure name="4462" id="4462" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/vasa-develop/4b8dc1ebd075fe7382954728c254ba91.js"></script><figcaption class="imageCaption">deserialize.js</figcaption></figure><p name="57b1" id="57b1" class="graf graf--p graf-after--figure">Putting the above byte output in the js function we get the following output.</p><pre name="8508" id="8508" class="graf graf--pre graf-after--p">[‚Äústring1‚Äù, ‚Äústring2‚Äù]</pre><p name="9d4e" id="9d4e" class="graf graf--p graf-after--pre">Voila, you successfully got your array back!</p><figure name="c18e" id="c18e" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 220px; max-height: 220px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div><img class="graf-image" data-image-id="1*j76GLb-HDg7yumx-kd8o3g.gif" data-width="220" data-height="220" src="https://cdn-images-1.medium.com/max/800/1*j76GLb-HDg7yumx-kd8o3g.gif"></div><figcaption class="imageCaption">easy as¬†that!</figcaption></figure><p name="a73e" id="a73e" class="graf graf--p graf-after--figure graf--trailing">This was just about the strings. You can do a lot of stuff using <a href="https://github.com/pouladzade/Seriality" data-href="https://github.com/pouladzade/Seriality" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Seriality</a>.</p></div></div></section><section name="4a9f" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="eb38" id="eb38" class="graf graf--h4 graf--leading">Learned something? Click the üëè to say ‚Äúthanks!‚Äù and help others find this¬†article.</h4><p name="0f16" id="0f16" class="graf graf--p graf-after--h4"><em class="markup--em markup--p-em">Hold down the clap button if you liked the content! It helps me gain exposure¬†.</em></p><p name="3a73" id="3a73" class="graf graf--p graf-after--p">Want to learn more? Checkout my previous articles.</p><div name="d5c1" id="d5c1" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://hackernoon.com/quantum-computing-is-it-the-end-of-blockchain-9ce4a9664720" data-href="https://hackernoon.com/quantum-computing-is-it-the-end-of-blockchain-9ce4a9664720" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/quantum-computing-is-it-the-end-of-blockchain-9ce4a9664720"><strong class="markup--strong markup--mixtapeEmbed-strong">Quantum Computing: Is it the end of blockchain?</strong><br><em class="markup--em markup--mixtapeEmbed-em">Experts are suggesting quantum computing may render blockchain obsolete. As the tech giants such as Google and IBM are‚Ä¶</em>hackernoon.com</a><a href="https://hackernoon.com/quantum-computing-is-it-the-end-of-blockchain-9ce4a9664720" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="0621fabdce44c9b934053355ae4634b2" data-thumbnail-img-id="1*8JzfIkH5mEr0TqAhSMbJkA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*8JzfIkH5mEr0TqAhSMbJkA.png);"></a></div><div name="cc7b" id="cc7b" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://hackernoon.com/eos-101-getting-started-with-eos-part-1-ab0324c233e0" data-href="https://hackernoon.com/eos-101-getting-started-with-eos-part-1-ab0324c233e0" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/eos-101-getting-started-with-eos-part-1-ab0324c233e0"><strong class="markup--strong markup--mixtapeEmbed-strong">EOS 101: Getting started with EOS, Part 1</strong><br><em class="markup--em markup--mixtapeEmbed-em">The only blockchain which has blocktime of less than a second: 0.5 sec!</em>hackernoon.com</a><a href="https://hackernoon.com/eos-101-getting-started-with-eos-part-1-ab0324c233e0" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="fd8747ef4c18e7ed85fa1f826a789f6f" data-thumbnail-img-id="1*_BKG3utRCovL4A9s78vEpA.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*_BKG3utRCovL4A9s78vEpA.png);"></a></div><div name="e43f" id="e43f" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://hackernoon.com/difference-between-sidechains-and-state-channels-2f5dfbd10707" data-href="https://hackernoon.com/difference-between-sidechains-and-state-channels-2f5dfbd10707" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://hackernoon.com/difference-between-sidechains-and-state-channels-2f5dfbd10707"><strong class="markup--strong markup--mixtapeEmbed-strong">Difference between SideChains and State Channels</strong><br><em class="markup--em markup--mixtapeEmbed-em">A complete comparison of the two scaling methods.</em>hackernoon.com</a><a href="https://hackernoon.com/difference-between-sidechains-and-state-channels-2f5dfbd10707" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="096410b77bc232079dc957910f44555f" data-thumbnail-img-id="1*UmKkLx0_zCrwX1etzE-TRg.jpeg" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*UmKkLx0_zCrwX1etzE-TRg.jpeg);"></a></div><div name="fa2e" id="fa2e" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/coinmonks/setting-up-your-first-distributed-private-storage-network-on-ipfs-part-1-a6ff15222b90" data-href="https://medium.com/coinmonks/setting-up-your-first-distributed-private-storage-network-on-ipfs-part-1-a6ff15222b90" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/coinmonks/setting-up-your-first-distributed-private-storage-network-on-ipfs-part-1-a6ff15222b90"><strong class="markup--strong markup--mixtapeEmbed-strong">Setting up your first distributed private storage network on IPFS: Part 1</strong><br><em class="markup--em markup--mixtapeEmbed-em">IPFS Private Storage Network Series</em>medium.com</a><a href="https://medium.com/coinmonks/setting-up-your-first-distributed-private-storage-network-on-ipfs-part-1-a6ff15222b90" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="0a4116cc1919f965610839552f3d1256" data-thumbnail-img-id="1*ns6pbkuJN3vFMJSqDLDVww.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*ns6pbkuJN3vFMJSqDLDVww.png);"></a></div><div name="1a3e" id="1a3e" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://medium.com/coinmonks/13-sidechain-projects-every-blockchain-developer-should-know-about-804b65364107" data-href="https://medium.com/coinmonks/13-sidechain-projects-every-blockchain-developer-should-know-about-804b65364107" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/coinmonks/13-sidechain-projects-every-blockchain-developer-should-know-about-804b65364107"><strong class="markup--strong markup--mixtapeEmbed-strong">13 sidechain projects every blockchain developer should know about</strong><br><em class="markup--em markup--mixtapeEmbed-em">The whole world is going through the blockchain revolution. But wait‚Ä¶is this really what we dreamed of? Present‚Ä¶</em>medium.com</a><a href="https://medium.com/coinmonks/13-sidechain-projects-every-blockchain-developer-should-know-about-804b65364107" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="47a933f0a2a854e802a0df436c7a5c2c" data-thumbnail-img-id="1*0lBFcDwvD7ryBTJLSnzYdg.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*0lBFcDwvD7ryBTJLSnzYdg.png);"></a></div><p name="bc9e" id="bc9e" class="graf graf--p graf-after--mixtapeEmbed graf--trailing"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Clap 50 times and follow me on Twitter: </em></strong><a href="https://twitter.com/itsmattward" data-href="https://twitter.com/itsmattward" class="markup--anchor markup--p-anchor" rel="noopener nofollow nofollow noopener nofollow noopener noopener noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">@</em></strong></a><a href="https://twitter.com/vasa_develop" data-href="https://twitter.com/vasa_develop" class="markup--anchor markup--p-anchor" rel="noopener nofollow nofollow noopener nofollow noopener noopener noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">vasa_develop</em></strong></a></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@vaibhavsaini_67863" class="p-author h-card">vasa</a> on <a href="https://medium.com/p/db4b6037e520"><time class="dt-published" datetime="2018-06-06T16:40:17.367Z">June 6, 2018</time></a>.</p><p><a href="https://medium.com/@vaibhavsaini_67863/serializing-string-arrays-in-solidity-db4b6037e520" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on July 19, 2019.</p></footer></article></body></html>